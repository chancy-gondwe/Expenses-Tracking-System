{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- ✅ Only one Bootstrap CSS (via CDN) -->
  <link 
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" 
    rel="stylesheet" 
    integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" 
    crossorigin="anonymous" 
  />

  <!-- ✅ Your custom styles -->
  <link href="{% static 'css/main.css' %}" rel="stylesheet" />
  <link href="{% static 'css/dashboard.css' %}" rel="stylesheet" />

  <title>{% block title %}Chago Expenses{% endblock %}</title>
</head>
<body>
  <header class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow">
    <a class="navbar-brand col-md-3 col-lg-2 me-0 px-3" href="#">Chago Expenses</a>
    <button
      class="navbar-toggler position-absolute d-md-none collapsed"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#sidebarMenu"
      aria-controls="sidebarMenu"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <ol class="navbar-nav d-flex flex-row align-items-center me-3 mb-0" style="list-style: none;">
      <li class="nav-item me-3">
        <span class="nav-link text-white mb-0">
          ({{ request.user.username }})
        </span>
      </li>
      <li class="nav-item">
        <form action="{% url 'logout' %}" method="POST" class="mb-0">
          {% csrf_token %}
          <input class="btn btn-outline-light btn-sm" type="submit" value="Sign Out">
        </form>
      </li>
    </ol>
  </header>

  <div class="container-fluid">
    <div class="row">
      {% include "partials/_sidebar.html" %}
      <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
        {% block content %}{% endblock %}
      </main>
    </div>
  </div>

  <!-- ✅ One Bootstrap JS (only once) -->
  <script 
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" 
    integrity="sha384-HoA3faDqTcvWQDd0Kjx8L52jPbyTXM2Nn9+ZbgQ1p7eWnbXcIp0pBAY1GHgf5v7P" 
    crossorigin="anonymous"
  ></script>

  <!-- ✅ Feather Icons -->
  <script 
    src="https://cdn.jsdelivr.net/npm/feather-icons@4.28.0/dist/feather.min.js" 
    crossorigin="anonymous"
  ></script>

  <!-- ✅ Chart.js -->
  <script 
    src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js" 
    crossorigin="anonymous"
  ></script>

  <!-- ✅ Your custom JS -->
  <script src="{% static 'js/main.js' %}"></script>
</body>
</html>
